2007-01-28  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.21.

2007-01-28  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/amigaos/ui.h, arch/amigaos/uires.h: Fixed.

	* arch/beos/archdep.c, arch/beos/joy.cc, arch/beos/joy.h,
	arch/beos/kbd.c, arch/beos/ui_cbm2.cc,
	arch/beos/ui_datasette.cc, arch/beos/ui_drive.h,
	arch/beos/ui_pet.cc, arch/beos/ui_sid.cc,
	arch/beos/ui_vic20.cc, arch/beos/ui_vicii.cc,
	arch/beos/ui_video.cc: Fixed.

2007-01-23  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/amigaos/Makefile.am, arch/amigaos/ahi.c,
	arch/amigaos/ahi.h, arch/amigaos/amigamain.c,
	arch/amigaos/archdep.c, arch/amigaos/c128ui.c,
	arch/amigaos/config.h.vbcc, arch/amigaos/console.c,
	arch/amigaos/intl.c, arch/amigaos/joy.h,
	arch/amigaos/mousedrv.c, arch/amigaos/mui/mui.h,
	arch/amigaos/mui/uinetwork.c,
	arch/amigaos/mui/uipetsettings.c, arch/amigaos/plus4ui.c,
	arch/amigaos/private.h, arch/amigaos/screen-shot.c,
	arch/amigaos/screen-shot.h, arch/amigaos/timer.c,
	arch/amigaos/timer.h, arch/amigaos/ui.c, arch/amigaos/ui.h,
	arch/amigaos/uiapi.c, arch/amigaos/uilib.c,
	arch/amigaos/video.c, arch/amigaos/vsyncapi.c, c128/c128.c,
	c64/c64.c, cbm2/cbm2.c, lib.c, pet/pet.c, plus4/plus4.c,
	vic20/vic20.c, video/video-resources.c: Added amiga vbcc
	compiler support.

2007-01-21  Spiro Trikaliotis  <Spiro.Trikaliotis@gmx.de>

	* ioutil.c, src/ioutil.h: Changed prototype of
	ioutil_maxpathlen() to return an unsigned int in order to
	remove warnings.

2007-01-21  Spiro Trikaliotis  <Spiro.Trikaliotis@gmx.de>

	* arch/win32/msvc/config.h: Define CONFIG_WIN32, int64_t_C and
	uint64_t_C in order to let config.h from ffmpeg compile with
	MSVC 6.

2007-01-09  pottendo  <pottendo@utanet.at>

	* video/video-resources.c (set_fullscreen_device): Allow
	selection of fullscreen device only in window mode.

	* arch/unix/x11/vidmode.c (vidmode_enable): Dont' use
	`canvas->fullscreenconfig->mode'. 

	* arch/unix/x11/xrandr.c (xrandr_enable): Don't set
	`xrandr_selected_mode' from `canvas->fullscreenconfig->mode'.
	(xrandr_mode): Don't set `canvas->fullscreenconfig->mode'.

	* arch/unix/x11/fullscreen.c (fullscreen_shutdown): Call
	xrandr_shutdown.

	* arch/unix/x11/xrandr.c (xrandr_shutdown): New Function.

	* arch/unix/x11/openGL_sync.c (openGL_sync_init): fixed proper
	exit if openGL isn't available.
	Removed preprocessor checks for XRandR which is not required by
	openGL. Fixes `--disable-fullscreen' builds.

2007-01-07  Christian Vogelgsang  <chris@vogelgsang.org>

	* arch/unix/macosx/vice-launcher.sh: fixed startup via symlink

2007-01-07  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.20.

	* lib/Makefile.am: Added missing ffmpeg header files.

	* arch/unix/x11/openGL_sync.c, arch/unix/gui/ui.c,
	arch/unix/gui/uivicii.c, arch/unix/x11/video.c: Only use
	openGL support if also xrandx support is present as compiling
	`openGL_sync.c' requires both anyway.

	* arch/unix/x11/xaw/uiedisk.c: Added fix for "create empty
	disk" dialog written by Ingo D. Rullhusen.

	* info.c: Updated.

2007-01-05  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/amigaos/Makefile.am, arch/amigaos/ahi.c,
	arch/amigaos/console.c, arch/amigaos/noinlineargs.c: Fixed the
	inline stdarg problem.

2007-01-01  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/amigaos/mui/mui.c, arch/beos/ui.cc,
	arch/msdos/menudefs.c, arch/os2/dialogs/dialogs.rc,
	arch/unix/macosx/Info.plist, arch/unix/x11/gnome/about.c,
	arch/unix/x11/xaw/about.c, arch/win32/res.rc: Changed the
	'2006' year references to '2007'.

2006-12-31  pottendo  <pottendo@utanet.at>

	* arch/unix/x11/xrandr.[ch]: New file. Implement XRandR base
	fullscreen mode.

	* arch/unix/x11/x11ui.h (x11ui_fullscreen): New prototype.

	* arch/unix/x11/openGL_sync.c: Removed XRandR specifics. Handle
	context allocation properly.

	* arch/unix/x11/Makefile.am (EXTRA_libx11ui_a_SOURCES): Added
	`xrandr.[ch]'.

	* arch/unix/x11/gnome/x11ui.c (x11ui_open_canvas_window):
	Introduced separate callback for resizing events. Make topmenu
	fixed size. 
	all: removed expizit resize requests.
	(x11ui_fullscreen): New function.
	(size_allocate): New function.

	* arch/unix/x11/fullscreen.c: Introduced XRandR fullscreen mode.

	* arch/unix/openGL_sync.h (init_openGL): Fixed prototypes.

	* arch/unix/gui/uivicii.c: Separate openGL sync from XRandR
	fullscreen mode; introduce XRandR fullscreen mode.
	
	* arch/unix/x11/xaw/x11ui.c (x11ui_fullscreen): New function
	(unfortunately it doesn't work. :()

	* arch/unix/x11/vidmode.c (vidmode_mode): initialize mode even
	when vm_vidmode isn't initialized yet. Fixes resources set by
	vicerc. 

2006-12-27  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/amigaos/intl.c: Updated.

2006-12-25  pottendo  <pottendo@utanet.at>

	* arch/unix/x11/xaw/x11ui.c (x11ui_get_X11_window): New function.

2006-12-25  pottendo  <pottendo@utanet.at>

	* arch/unix/x11/x11ui.h (x11ui_get_screen): New prototypes.

	* arch/unix/x11/video.c (video_canvas_create): Initialize openGL
	and XRandR.
	(video_canvas_refresh): Synchronize with raster. This is an
	intermediate solution until openGL sync is properly merged into
	vsync code (if ever).

	* arch/unix/x11/openGL_sync.c: New file.

	* arch/unix/x11/Makefile.am (EXTRA_libx11ui_a_SOURCES): Added
	`openGL_sync.c'. 

	* arch/unix/x11/gnome/x11ui.c (x11ui_get_visual): New function.
	(x11ui_get_X11_window): Ditto.
	(x11ui_get_screen): Ditto.

	* arch/unix/openGL_sync.h: New file.

	* arch/unix/Makefile.am: (libarch_a_SOURCES): added
	`openGL_sync.h'.

	* arch/unix/gui/uivicii.c: Added menu entries for openGL sync.

	* arch/unix/gui/ui.c (ui_common_shutdown): added shutdown openGL.

2006-12-24  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.19.

2006-12-22  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/amigaos/console.c, arch/amigaos/mui/uidrivec128.c,
	arch/amigaos/mui/uidrivec64vic20.c,
	arch/amigaos/mui/uidrivepetcbm2.c,
	arch/amigaos/mui/uidriveplus4.c, arch/amigaos/private.h,
	arch/amigaos/ui.c, arch/amigaos/video.c: Added/fixed/updated
	some ui elements.

2006-12-12  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/amigaos/Makefile.am,
	arch/amigaos/info-files/morphos/VICE.info,
	arch/amigaos/info-files/morphos/x128.info,
	arch/amigaos/info-files/morphos/x64.info,
	arch/amigaos/info-files/morphos/xcbm2.info,
	arch/amigaos/info-files/morphos/xpet.info,
	arch/amigaos/info-files/morphos/xplus4.info,
	arch/amigaos/info-files/morphos/xvic.info,
	arch/amigaos/make-bindist.sh: Added native MorphOS icons,
	icons were created by Andr351 'JoBBo' Siegel.

2006-12-10  Christian Vogelgsang  <chris@vogelgsang.org>

	* arch/unix/gui/uicommands.c: fixed location of html docs in
	mac bundle

	* arch/unix/macosx/Info.plist,
	arch/unix/macosx/make-bindist.sh,
	arch/unix/macosx/x11-launcher.sh,
	arch/unix/macosx/vice-launcher, arch/unix/macosx/Makefile.am:
	fixes for gtk bundling on mac. changed to bundling a single
	mac app with all emulators inside. added command line launcher
	for emulators.

2006-12-09  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/amigaos/Makefile.am, arch/amigaos/c128ui.c,
	arch/amigaos/c128uires.h, arch/amigaos/c64ui.c,
	arch/amigaos/c64uires.h, arch/amigaos/cbm2ui.c,
	arch/amigaos/cbm2uires.h, arch/amigaos/intl.c,
	arch/amigaos/intl.txt, arch/amigaos/mui/mui.h,
	arch/amigaos/mui/uic128settings.c,
	arch/amigaos/mui/uic128settings.h,
	arch/amigaos/mui/uipetsettings.c,
	arch/amigaos/mui/uipetsettings.h,
	arch/amigaos/mui/uiplus4settings.c,
	arch/amigaos/mui/uiplus4settings.h,
	arch/amigaos/mui/uiromc128settings.c,
	arch/amigaos/mui/uiromc128settings.h,
	arch/amigaos/mui/uiromc64vic20settings.c,
	arch/amigaos/mui/uiromc64vic20settings.h,
	arch/amigaos/mui/uiromcbm2settings.c,
	arch/amigaos/mui/uiromcbm2settings.h,
	arch/amigaos/mui/uirompetsettings.c,
	arch/amigaos/mui/uirompetsettings.h,
	arch/amigaos/mui/uiromplus4settings.c,
	arch/amigaos/mui/uiromplus4settings.h, arch/amigaos/petui.c,
	arch/amigaos/petuires.h, arch/amigaos/plus4ui.c,
	arch/amigaos/plus4uires.h, arch/amigaos/uires.h,
	arch/amigaos/vic20ui.c, arch/amigaos/vic20uires.h: Added new
	ui elements.

	* arch/win32/c128ui.c: Fixed an accidental swap.

2006-12-06  Andreas Matthies  <andreas.matthies@gmx.net>

	* arch/win32/ffmpeglib.c: Updated to load the latest
	ffmpeg library (API 51)

	* gfxoutputdrv/ffmpegdrv.c (ffmpegdrv_init_video): pix_fmt
	needs to be set in the codec context.

	* lib/libffmpeg/ffmpeg/*.h: Updated with latest ffmpeg
	headers (ffmpeg snapshot from 5.12.2006) and some hacks to
	make them compile with MSVC.

2006-12-04  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/amigaos/Makefile.am, arch/amigaos/c128ui.c,
	arch/amigaos/c128uires.h, arch/amigaos/c64ui.c,
	arch/amigaos/c64uires.h, arch/amigaos/cbm2ui.c,
	arch/amigaos/cbm2uires.h, arch/amigaos/intl.c,
	arch/amigaos/intl.txt, arch/amigaos/mui/mui.c,
	arch/amigaos/mui/mui.h, arch/amigaos/mui/uifliplist.c,
	arch/amigaos/mui/uifliplist.h, arch/amigaos/mui/uisnapshot.c,
	arch/amigaos/mui/uisnapshot.h, arch/amigaos/mui/uivideoc128.c,
	arch/amigaos/mui/uivideoc128.h,
	arch/amigaos/mui/uivideoc64plus4vic20.c,
	arch/amigaos/mui/uivideoc64plus4vic20.h,
	arch/amigaos/mui/uivideocbm2pet.c,
	arch/amigaos/mui/uivideocbm2pet.h, arch/amigaos/petui.c,
	arch/amigaos/petuires.h, arch/amigaos/plus4ui.c,
	arch/amigaos/plus4uires.h, arch/amigaos/ui.c,
	arch/amigaos/uires.h, arch/amigaos/vic20ui.c,
	arch/amigaos/vic20uires.h: Added more ui support.

	* arch/win32/res.rc, arch/win32/resplus4.rc: Updated some text
	elements.

	* c64/mmc64.c: Changed some C++ style comments to C style.

	* sid/sid-cmdline-options.c: Fixed a typo.

2006-12-03  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.18.

2006-12-02  John Selck  <selck_j@informatik.haw-hamburg.de>

	* vdc/vdctypes.h: Changed struct vdc_s: Removed unused
	force_black_overscan_background_color variable.
	Added new frame_counter and attribute_blink variables.
	Removed variables: cursor_visible, cursor_frequency,
	cursor_counter, text_blink_visible, text_blink_frequency,
	text_blink_counter.

	* vdc/vdc.c: Changed vdc_reset(): Removed initialization of
	old cursor and blink variables.
	Changed vdc_set_video_mode(): VDC idle mode is now enabled
	according to register 9 instead of 23.
	Changed vdc_raster_draw_alarm_handler(): Removed old cursor
	and attribute blink logic and added new attribute blink
	logic.

	* vdc/vdc-mem.c: Changed vdc_store(): Register 10 access logic
	removed due to new cursor logic in get_attr_char_data().
	Register 24 access now modified to suit new blink logic.

	* vdc/vdc-draw.c: Rewrote get_attr_char_data() to correctly
	do character underline, blink, reverse, cursor invert,
	visible character height and visible character width.
	Also added most parts of the cursor logic here. Set some now
	unused parameters of cache_data_fill_attr_text() to 0.

2006-11-29  Christian Vogelgsang  <chris@vogelgsang.org>

	* arch/unix/macosx/make-bindist.sh,
	arch/unix/macosx/x11-launcher.sh: correctly handle and embed
	dynamic libs in mac os x bundling process

	* c64/tfe.c: disabled warning on write on RR control register
	as it is a legal operation

2006-11-27  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/msdos/Makefile.am, arch/msdos/c64ui.c,
	arch/msdos/petui.c, arch/msdos/plus4ui.c,
	arch/msdos/tuimenu.h, arch/msdos/uimmc64.c,
	arch/msdos/uimmc64.h, arch/msdos/uisidcart.c,
	arch/msdos/uisidcart.h, arch/msdos/vic20ui.c: Added MMC64 and
	SID cart support.

	* arch/msdos/uinetplay.c: Changed the snprintf call to
	strncpy.

2006-11-27  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/amigaos/Makefile.am: Added IDE64, MMC64 and SID cart
	support.

	* arch/amigaos/ahi.h, arch/amigaos/fullscreenarch.h,
	arch/amigaos/joyai.h, arch/amigaos/mui/filereq.h,
	arch/amigaos/mui/uiacia.h, arch/amigaos/mui/uicbm2settings.h,
	arch/amigaos/mui/uidatasette.h,
	arch/amigaos/mui/uidrivec128.h,
	arch/amigaos/mui/uidrivec64vic20.h,
	arch/amigaos/mui/uidrivepetcbm2.h,
	arch/amigaos/mui/uidriveplus4.h,
	arch/amigaos/mui/uijoystickll.h, arch/amigaos/mui/uiram.h,
	arch/amigaos/mui/uirs232user.h, arch/amigaos/mui/uisid.h,
	arch/amigaos/mui/uisound.h, arch/amigaos/mui/uivic20mem.h,
	arch/amigaos/mui/uivicii.h, arch/amigaos/private.h,
	arch/amigaos/statusbar.h, arch/amigaos/timer.h: Changed to
	where the prototypes are now defined as extern.

	* arch/amigaos/archdep.c: Fixed the archdep_spawn call to the
	latest changes.

	* arch/amigaos/c128ui.c: Added file select support for REU,
	GEORAM and RAMCART and added IDE64 support.

	* arch/amigaos/c128uires.h, arch/amigaos/c64uires.h,
	arch/amigaos/cbm2uires.h: Added MMC64 and SID cart support.

	* arch/amigaos/c64ui.c: Added file select support for REU,
	GEORAM, RAMCART, PLUS60K, PLUS256K and 256K and added IDE64
	and MMC64 support.

	* arch/amigaos/intl.c, arch/amigaos/intl.txt: Updated.

	* arch/amigaos/joy.c, arch/amigaos/joy.h,
	arch/amigaos/joyll.c, arch/amigaos/joyll.h,
	arch/amigaos/kbd.c, arch/amigaos/kbd.h,
	arch/amigaos/mui/uijoystick.c,
	arch/amigaos/mui/uijoystick.h: Fixed for the latest
	keyboard/joystick changes.

	* arch/amigaos/mui/mui.c, arch/amigaos/mui/mui.h,
	arch/amigaos/mui/uic64_256k.c, arch/amigaos/mui/uic64_256k.h,
	arch/amigaos/mui/uigeoram.c, arch/amigaos/mui/uigeoram.h,
	arch/amigaos/mui/uipetreu.c, arch/amigaos/mui/uipetreu.h,
	arch/amigaos/mui/uiplus256k.c, arch/amigaos/mui/uiplus256k.h,
	arch/amigaos/mui/uiplus60k.c, arch/amigaos/mui/uiplus60k.h,
	arch/amigaos/mui/uiramcart.c, arch/amigaos/mui/uiramcart.h,
	arch/amigaos/mui/uireu.c, arch/amigaos/mui/uireu.h: Added file
	select support.

	* arch/amigaos/mui/uiide64.c, arch/amigaos/mui/uiide64.h:
	Added IDE64 support.

	* arch/amigaos/mui/uimmc64.c, arch/amigaos/mui/uimmc64.h:
	Added MMC64 support.

	* arch/amigaos/mui/uinetwork.c, arch/amigaos/mui/uinetwork.h,
	arch/amigaos/mui/uisid.c: Added intl support.

	* arch/amigaos/mui/uisidcart.c, arch/amigaos/mui/uisidcart.h,
	arch/amigaos/petui.c, arch/amigaos/petuires.h,
	arch/amigaos/plus4ui.c, arch/amigaos/plus4uires.h,
	arch/amigaos/uires.h, arch/amigaos/vic20ui.c,
	arch/amigaos/vic20uires.h: Added SID cart support.

	* lib/libffmpeg/ffmpeg/avcodec.h,
	lib/libffmpeg/ffmpeg/rational.h: Changed C++ style comments to
	C style comments.

	* lib/libffmpeg/ffmpeg/common.h: Fixed the inttypes.h include
	situation.

	* network.c, resources.c: Fixed the network_get_mode() function
	for platforms that don't support netplay.

2006-11-26  Fabrizio Gennari  <fabrizio.ge@tiscali.it>

	* arch/unix/x11/gnome/uiscreenshot.c: Fixed a small bug.

2006-11-26  Fabrizio Gennari  <fabrizio.ge@tiscali.it>

	* gfxoutputdrv/ffmpegdrv.c: Changed to latest FFMPEG library
	API.

2006-11-16  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/amigaos/intl.c, translate.c: Updated.

2006-11-15  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/win32/petui.c, arch/win32/plus4ui.c,
	arch/win32/uisidcart.c, arch/win32/uisidcart.h,
	arch/win32/vic20ui.c: Fixed the win32 sidcart ui.

	* pet/petsound.c, plus4/ted-sound.c, sid/sid-resources.c,
	vic20/vic20sound.c: Added clock switching support for sidcart.

2006-11-15  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* Makefile.am, arch/unix/gui/Makefile.am,
	arch/unix/gui/uisidcart.c, arch/win32/Makefile.am,
	arch/win32/arch.dsp, arch/win32/pet.dsp, arch/win32/petui.c,
	arch/win32/plus4.dsp, arch/win32/plus4ui.c,
	arch/win32/ressidcart.rc, arch/win32/sidcart.dsp,
	arch/win32/uisidcart.c, arch/win32/uisidcart.h,
	arch/win32/vic20.dsp, arch/win32/vic20ui.c,
	arch/win32/vice.dsw, arch/win32/xpet.dsp,
	arch/win32/xplus4.dsp, arch/win32/xvic.dsp, pet/Makefile.am,
	pet/pet.c, pet/petmem.c, pet/petsound.c, plus4/Makefile.am,
	plus4/plus4.c, plus4/plus4mem.c, plus4/ted-sound.c,
	sid/sid-cmdline-options.c, sid/sid-cmdline-options.h,
	sid/sid-resources.c, sid/sid-resources.h, sid/sid.c,
	sid/sid.h, vic20/Makefile.am, vic20/vic20.c, vic20/vic20mem.c,
	vic20/vic20sound.c: Improved the sidcart support.

	* sidcart/Makefile.am, sidcart/Makefile.in, sidcart/fastsid.c,
	sidcart/fastsid.h, sidcart/sidcart-cmdline-options.c,
	sidcart/sidcart-cmdline-options.h,
	sidcart/sidcart-resources.c,  sidcart/sidcart-resources.h,
	sidcart/sidcart.c, sidcart/sidcart.h: Got rid of the sidcart
	directory.

	* arch/win32/c64.dsp, arch/win32/c64c128.dsp,
	arch/win32/cbm2.dsp, c128/c128.c, c64/Makefile.am, c64/c64.c,
	c64/c64sound.c, cbm2/Makefile.am, cbm2/cbm2.c,
	cbm2/cbm2sound.c: Made the sound sid support more general.
	
	* translate.c, translate.txt: Added sidcart text elements.

2006-11-13  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.17.

	* util.c (util_check_filename_access): Use ioutil function for
	unlink().

	* arch/unix/archdep.c, arch/win32/archdep.c,
	arch/msdos/archdep.c, arch/os2/archdep.c,
	arch/beos/archdep.c (archdep_spawn): Allocate temp name if
	empty pointer is passed.

	* zfile.c: Removed some calls to `archdep_tmpnam()' now that
	`archdep_spawn()' allocates the temporary name.

	* arch/win32/uisid.c (resize_general_sid_dialog): Fixed some
	warnings.

2006-11-11  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/win32/Makefile.am, arch/win32/arch.dsp,
	arch/win32/gifdrv.c, gfxoutputdrv/gfxoutput.c: Added
	gif/ungif dll support.

2006-11-10  Christian Vogelgsang  <chris@vogelgsang.org>

	* arch/unix/archdep.c, arch/unix/macosx/Makefile.am,
	arch/unix/macosx/make-bindist.sh,
	arch/unix/macosx/x11-launcher.sh:
	added new mac x11 launcher script that supports file drops on
	startup with platypus and command line startup with arbitrary
	arguments.

2006-11-10  Tibor Biczo  <crown@t-online.hu>

	* arch/win32/Makefile.am (genmsvcver.dsp): Added new file.

	* arch/win32/genmsvcver.dsp: New file.

	* arch/win32/res.rc: Include manifest file if compiled with
	MSVC versions earlier than VS2005.

	* arch/win32/uisound.c: Added 48000 and 96000 Hz sound
	frequency to UI.

	* arch/win32/utils/Makefile.am (genmsvcver.c): Added new file.

	* arch/win32/utils/genmsvcver.c: New file.

	* arch/win32/vice.dsw (genmsvcver.dsp): Added new project.

	* sound.c (sound_open): Increased maximum accepted frequency
	to 96000Hz.

2006-11-08  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/amigaos/mui/uipetreu.c, arch/beos/constants.h,
	arch/beos/petui.cc, arch/beos/vicemenu.cc,
	arch/msdos/uipetreu.c, arch/os2/dialogs/menubar.c,
	arch/os2/dialogs/menubar.h, arch/os2/dialogs/menubar.rc,
	arch/unix/gui/uipetreu.c, arch/win32/uipetreu.c,
	pet/petmem.c, pet/petreu.c, pet/petreu.h: Added
	512/1024/2048kb ram expansion emulation support.

2006-11-07  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* c64/c64_256k.c, c64/georam.c, c64/mmc64.c, c64/plus256k.c,
	c64/plus60k.c, c64/ramcart.c, c64/reu.c, pet/petreu.c,
	util.c, util.h: Fixed the setting of an illegal filename.

2006-11-06  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* Makefile.am, arch/unix/gui/Makefile.am,
	arch/unix/gui/petui.c, arch/unix/gui/plus4ui.c,
	arch/unix/gui/uisidcart.c, arch/unix/gui/uisidcart.h,
	arch/unix/gui/vic20ui.c, arch/win32/Makefile.am,
	arch/win32/arch.dsp, arch/win32/intl.c, arch/win32/pet.dsp,
	arch/win32/petui.c, arch/win32/plus4.dsp,
	arch/win32/plus4ui.c, arch/win32/resdialogs.txt,
	arch/win32/resmenu.txt, arch/win32/respet.rc,
	arch/win32/resplus4.rc, arch/win32/ressidcart.rc,
	arch/win32/resvic20.rc, arch/win32/sidcart.dsp,
	arch/win32/uisidcart.c, arch/win32/uisidcart.h,
	arch/win32/vic20.dsp, arch/win32/vic20ui.c,
	arch/win32/vice.dsw, arch/win32/xplus4.dsp,
	arch/win32/xvic.dsp, pet/Makefile.am,
	pet/pet.c, pet/petmem.c, pet/petsound.c, plus4/Makefile.am,
	plus4/plus4.c, plus4/plus4mem.c, plus4/ted-sound.c,
	sidcart/Makefile.am, sidcart/fastsid.c, sidcart/fastsid.h,
	sidcart/sidcart-cmdline-options.c,
	sidcart/sidcart-cmdline-options.h,
	sidcart/sidcart-resources.c, sidcart/sidcart-resources.h,
	sidcart/sidcart.c, sidcart/sidcart.h, vic20/Makefile.am,
	vic20/vic20.c, vic20/vic20mem.c, vic20/vic20sound.c: Added SID
	cartridge emulation.

	* drive/iec/mc6821.c: Fixed a cast.

	* keyboard.c: Got rid of some unused variables.

2006-11-05  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.16.

	* drive/rotation.c (rotation_sync_found): Changed back to old
	sync code.

2006-11-03  Christian Vogelgsang  <chris@vogelgsang.org>

	* c64/tfe.c: set correct init state of ethernet chip.

2006-10-31  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/unix/gui/uicommands.c: Got rid of a unneeded_()
	element.

2006-10-30  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/amigaos/intl.c, arch/win32/intl.c, arch/win32/res.rc,
	arch/win32/resacia.rc, arch/win32/resc128.rc,
	arch/win32/resc64.rc, arch/win32/resc64_256k.rc,
	arch/win32/rescbm2.rc, arch/win32/resdrivec128.rc,
	arch/win32/resdrivec64vic20.rc, arch/win32/resdrivepetcbm2.rc,
	arch/win32/resdriveplus4.rc, arch/win32/resgeoram.rc,
	arch/win32/reside64.rc, arch/win32/respet.rc,
	arch/win32/respetreu.rc, arch/win32/resplus256k.rc,
	arch/win32/resplus4.rc, arch/win32/resplus60k.rc,
	arch/win32/resramcart.rc, arch/win32/resreu.rc,
	arch/win32/resrs232user.rc, arch/win32/ressid.rc,
	arch/win32/restfe.rc, arch/win32/resvic20.rc,
	arch/win32/resvicii.rc, translate.c: Updated.

2006-10-27  Christian Vogelgsang  <chris@vogelgsang.org>

	* c64/tfe.c: fixed rr-net toggle. ensure correct setup of the
	ethernet device.

2006-10-23  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* translate.c: updated.

2006-10-22  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.15.

	* drive/iec/c64exp/iec-c64exp.c, drive/iec-c64exp.h,
	drive/iec/c64exp/Makefile.am, drive/iec-plus4exp.h,
	drive/iec/plus4exp/iecplus4exp.c,
	drive/iec/plus4exp/Makefile.am: New files.

	* drive/iec/c64exp/Makefile.am, drive/iec-c64exp.h,
	drive/iec/c64exp/iec-c64exp.c,
	drive/iec/c64exp/c64exp-resources.c,
	drive/iec/c64exp/c64exp-resources.h,
	drive/iec/c64exp/c64exp-cmdline-options.c,
	drive/iec/c64exp/c64exp-cmdline-options.h,
	drive/iec/plus4exp/Makefile.am, drive/iec-plus4exp.h,
        drive/iec/plus4exp/iec-plus4exp.c,
	drive/iec/plus4exp/plus4exp-resources.c,
	drive/iec/plus4exp/plus4exp-resources.h
	drive/iec/plus4exp/plus4exp-cmdline-options.c,
	drive/iec/plus4exp/plus4exp-cmdline-options.h,
	arch/win32/c64exp.dsp, arch/win32/plus4exp.dsp: New files.

	* drive/iec/Makefile.am, drive/Makefile.am, Makefile.am,
	arch/win32/Makefile.am, arch/win32/iec.dsp,
	arch/win32/vice.dsw: Updated.

	* drive/iec/iec.c, drive/iec/memiec.c, c128/c128drive.c
	c64/c64drive.c, plus4/plus4drive.c, drive/iec/iec-resources.c,
	drive/iec/iec-cmdline-options.c: Moved c64 and plus4 specific
	routines to separate files.

	* drive/iec/profdos.c, drive/iec/profdos.h: Moved to c64exp
	subdirectory.

	* translate.txt, translate.c: Added ProfDOS strings, separated
	parallel cable strings.

	* arch/unix/kbd.h, arch/win32/kbd.h, arch/msdos/kbd.h,
	joystick.c: Added missing prototype.

2006-10-22  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/amigaos/intl.c, arch/win32/intl.c,
	arch/win32/resc128.rc, arch/win32/resc64.rc,
	arch/win32/rescbm2.rc, arch/win32/resmmc64.rc,
	arch/win32/respet.rc, arch/win32/resplus4.rc,
	arch/win32/resvic20.rc, translate.c: Updated german text
	elements.

2006-10-22  Andreas Dehmel  <zarquon@t-online.de>

	* joystick.c: didn't compile/link if COMMON_KBD undefined.

2006-10-22  Christian Vogelgsang  <chris@vogelgsang.org>

	* arch/unix/macosx/joy.c: adapted code to changed joystick
	interface.

2006-10-22  pottendo  <pottendo@utanet.at>

	* arch/unix/x11/gnome/uiscreenshot.c (ui_screenshot_dialog):
	removed debug code form ffmpeg.

	* arch/unix/x11/gnome/uimenu.c (make_menu_label): reintroduced
	to activate gettext again.
	(ui_menu_create): use `make_menu_label'.

2006-10-21  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.14.

	* arch/unix/gui/uidrivec64.c, arch/unix/gui/uidrivec128.c,
	arch/unix/gui/uidrivevic20.c, arch/unix/gui/uidriveplus4.c,
	arch/unix/gui/uidriveiec.c: Reorganized drive expansion UI.

	* arch/unix/gui/uidrivec64c128.c,
	arch/unix/gui/uidrivec64c128.h: New files.

	* arch/unix/gui/Makefile.am: Added new files.
	Added missing `uijoystickkeys.h'.

	* arch/win32/uic64cart.c, resmenu.txt, resstrings.txt,
	arch/win32/intl.c, arch/win32/res.rc: Added Action Replay III
	attach UI.

2006-10-20  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* c64/c64io.c, c64/mmc64.c, c64/mmc64.h: Added (RR-NET)
	clockport support to MMC64.

2006-10-20  Fabrizio Gennari  <fabrizio.ge@tiscali.it>

	* arch/msdos/joy.c, arch/msdos/joy.h, arch/msdos/kbd.c,
	arch/msdos/uijoystick.c, arch/unix/gui/uijoystick2.c,
	arch/unix/gui/vic20ui.c, arch/unix/joy.c, arch/unix/joy.h,
	arch/unix/x11/gnome/gnomekbd.c, arch/unix/x11/xaw/x11kbd.c,
	arch/win32/joy.c, arch/win32/joy.h, arch/win32/kbd.c,
	arch/win32/uijoystick.c, joystick.c, joystick.h, keyboard.c,
	keyboard.h: Add ability to redefine key-to-joystick mapping on
	Unix, unified joystick resources.

	* arch/unix/x11/gnome/uijoystickkeys.c,
	arch/unix/x11/gnome/uijoystickkeys.h,
	arch/unix/gui/uijoystickkeys.h: new files.

	* arch/unix/x11/gnome/Makefile.am: Added new file.

	* arch/msdos/uijoystick.c: removed an MS-DOS newline

	* joystick.c: make functions joyreleaseval, joystick_check_set
	and joystick_check_clr more readable

2006-10-19  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.13.

	* drive/iec/profdos.c, drive/iec/profdos.h: New files.

	* drive/iec/Makefile.am, arch/win32/iec.dsp: Added new files.

	* drive/drive.h, drive/iec/iec.c: Added support for ProfDOS.

	* drive/rotation.c: Switched back to old sync code.

	* drive/iec/memiec.c (memiec_init): Restructured, added 1571
	$4000 expansion.

	* drive/drivemem.c, drive/drivemem.h (drivemem_set_func): New
	function.

	* drive/iec/cia1571d.c (pulse_ciapc): Use this function to
	pulse parallel cable.

	* drive/drive-check.c, drive/drive.h:
	(drive_check_expansion4000): Allow 157x drives.
	(drive_check_profdos): New function.

	* arch/unix/gui/uidriveiec.c: Added ProfDOS expansion.

2006-10-19  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/amigaos/intl.c, arch/win32/intl.c, arch/win32/res.rc,
	arch/win32/resacia.rc, arch/win32/resc128.rc,
	arch/win32/resc64.rc, arch/win32/rescbm2.rc,
	arch/win32/resgeoram.rc, arch/win32/respet.rc,
	arch/win32/respetreu.rc, arch/win32/resplus4.rc,
	arch/win32/resplus60k.rc, arch/win32/resramcart.rc,
	arch/win32/resreu.rc, arch/win32/ressid.rc,
	arch/win32/resvic20.rc, translate.c: Updated hungarian text
	elements.

	* c64/c64.c: Added mmc64.h include.

2006-10-17  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* event.c, translate.c, translate.txt: Updated.

2006-10-17  Tibor Biczo  <crown@t-online.hu>

	* arch/win32/gentranslate.dsp, arch/win32/genwinres.dsp,
	arch/win32/png.dsp, arch/win32/zlib.dsp: Added
	_CRT_SECURE_NO_DEPRECATE define, so MSVC8 does not complain
	about the use of unsecure C runtime calls.

	* arch/win32/res.rc: Do not include manifest file if resorce
	file is compiled under MSVC. Needs further work, so that this
	is true if MSVC8 or later is used.

	* arch/win32/resid.dsp, arch/win32/sid.dsp: Reorganized build
	steps for .cc files. Instead of directly calling cl, we copy
	.cc files to .cpp and let the compiler compile those files.
	Helps with MSVC8.

	* arch/win32/x128.dsp, arch/win32/x64.dsp,
	arch/win32/xcbm2.dsp, arch/win32/xpet.dsp,
	arch/win32/xplus4.dsp, arch/win32/xvic.dsp: Added
	vice.manifest into project file. MSVC8 automatically includes
	manifest files added to the project during manifest
	autogeneration.

2006-10-17  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/unix/gui/Makefile.am, arch/unix/gui/c128ui.c,
	arch/unix/gui/c64ui.c, arch/unix/gui/uimmc64.c,
	arch/unix/gui/uimmc64.h, arch/win32/Makefile.am,
	arch/win32/arch.dsp, arch/win32/c128ui.c, arch/win32/c64.dsp,
	arch/win32/c64c128.dsp, arch/win32/c64ui.c, arch/win32/intl.c,
	arch/win32/resc128.rc, arch/win32/resc64.rc,
	arch/win32/resdialogs.txt, arch/win32/resmenu.txt,
	arch/win32/resmmc64.rc, arch/win32/uimmc64.c,
	arch/win32/uimmc64.h, arch/win32/x128.dsp, arch/win32/x64.dsp,
	c64/Makefile.am, c64/c64.c, c64/c64io.c, c64/c64io.h,
	c64/c64mem.c, c64/cart/c64cartmem.c, c64/mmc64.c, c64/mmc64.h,
	translate.c, translate.txt: Added MMC64 support, based upon the
	work done by Markus Stehr <bastetfurry@ircnet.de>.

	* arch/win32/utils/gentranslate.c: Fixed the 0x0d char parsing
	problem.

2006-10-16  Andreas Boose  <viceteam@t-online.de>

        * Version 1.20.12.

        * drive/iec/mc6821.c (mc6821_write_ddra, mc6821_write_ddrb):
        New functions, update parallel cable status on direction
        change.

        * drive/drive.h, drive/iec/iec-resources.c,
        drive/iec/via1d1541.c, drive/iec/cia1571d.c,
        drive/iec/mc6821.c, drive/drive-snapshot.c, c64/c64parallel.c,
        plus4/plus4pio1.c, arch/unix/gui/uidrivec64.c,
        arch/unix/gui/uidrivec128.c, arch/unix/gui/uidriveplus4.c,
        drive/iec/memiec.c, drive/iec/iec-cmdline-options.c: Unified
	parallel cable and mc6821 resource.

	* c64/cart/c64cart.c: Fixed string define.

	* translate.txt, translate.c: Updated.

2006-10-15  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.11.

	* vdc/vdc-mem.c (vdc_store): Changed back xsmooth calculation
	to use only 3 bits. This is surely not correct, but at least
	all 80 chars are displayed at startup.

	* arch/unix/archdep.c, arch/win32/archdep.c,
	arch/msdos/archdep.c, arch/riscos/archdep.c,
	arch/beos/archdep.carch/os2/archdep.c, archapi.h, zfile.c
	(archdep_spawn): Take pointer to stdout filename pointer,
	needed for later mkstemp changes.

	* c64/cart/actionreplay3.c, c64/cart/actionreplay3.h: New
	files.

	* c64/cart/Makefile.am, arch/win32/c64cart.dsp: Added new
	files.

	* cartridge.h, c64/cart/c64cart.c, c64/cart/c64cartmem.c,
	arch/unix/gui/uic64cart.c: Added support for Action Replay
	III.

	* c64/c64-resources.c, arch/win32/c64ui.c, c64/c64.c: Changed
	to make Unix keyboard UI work again.

	* debug.c (debug_open_new_file): Fixed typo.

2006-10-15  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* Makefile.am, arch/amigaos/Makefile.am,
	arch/amigaos/genintl_h.sh, arch/amigaos/genintltable.sh,
	arch/amigaos/intl.h, arch/amigaos/intl.txt,
	arch/amigaos/intl_funcs.h, arch/win32/Makefile.am,
	arch/win32/base.dsp, arch/win32/gentranslate.dsp,
	arch/win32/utils/Makefile.am, arch/win32/utils/gentranslate.c,
	arch/win32/vice.dsw, gentranslate_h.sh, gentranslatetable.sh,
	translate.h, translate.txt, translate_funcs.h: Added automatic
	generation of the intl header files.

	* arch/amigaos/c128uires.h, arch/amigaos/c64uires.h,
	arch/amigaos/cbm2uires.h, arch/amigaos/intl.c,
	arch/amigaos/petuires.h, arch/amigaos/plus4uires.h,
	arch/amigaos/uires.h, arch/amigaos/vic20uires.h,
	arch/win32/intl.c, arch/win32/res.rc, arch/win32/resacia.rc,
	arch/win32/resc128.rc, arch/win32/resc64.rc,
	arch/win32/resc64_256k.rc, arch/win32/rescbm2.rc,
	arch/win32/resdialogs.txt, arch/win32/resdrivec128.rc,
	arch/win32/resdrivec64vic20.rc, arch/win32/resdrivepetcbm2.rc,
	arch/win32/resdriveplus4.rc, arch/win32/resgeoram.rc,
	arch/win32/reside64.rc, arch/win32/resmenu.txt,
	arch/win32/respet.rc, arch/win32/respetreu.rc,
	arch/win32/resplus256k.rc, arch/win32/resplus4.rc,
	arch/win32/resplus60k.rc, arch/win32/resramcart.rc,
	arch/win32/resreu.rc, arch/win32/resrs232user.rc,
	arch/win32/ressid.rc, arch/win32/resstrings.txt,
	arch/win32/restfe.rc, arch/win32/resvic20.rc,
	arch/win32/resvicii.rc, arch/win32/ui.c, translate.c: Added
	(empty) hungarian texts.

	* main.c: Fixed translate.h include.

2006-10-14  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.10.

	* drive/iec/mc6821.c, mc6821.h: New files.

	* drive/iec/Makefile.am, Makefile.am, arch/win32/iec.dsp:
	Added new files.

	* drive/iec/iec-resources.c, drive/iec/memiec.c,
	drive/drive.h, drive/iec/iec.c, c64/c64parallel.c

	* iecdrive.h, c64/c64parallel.c, drive/iec/via1d1541.c,
	drive/iec/cia1571d.c, drive/iec/mc6821.c,
	drive/drive-snapshot.c, plus4/plus4parallel.c
	(parallel_cable_drive_write): Allow handshake only write.

	* drive/iec/wd1770.h: Removed cruft.

2006-10-02  Fabrizio Gennari  <fabrizio.ge@tiscali.it>

	* arch/unix/x11/gnome/x11ui.c, arch/unix/x11/gnome/gnomekbd.c:
	handle key events in a sub-widget of the main window, rather
	than the main window, so the main window's keyboard handler
	does not interfere

2006-10-02  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/amigaos/intl.c, arch/win32/intl.c, arch/win32/res.rc,
	arch/win32/resacia.rc, arch/win32/resc128.rc,
	arch/win32/resc64.rc, arch/win32/resc64_256k.rc,
	arch/win32/rescbm2.rc, arch/win32/respet.rc,
	arch/win32/resplus4.rc, arch/win32/resplus60k.rc,
	arch/win32/resvic20.rc, translate.c: Updated the german
	translations.

2006-10-01  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.9.

	* arch/unix/archdep.c, arch/win32/archdep.c,
	arch/msdos/archdep.c, arch/os2/archdep.c,
	arch/riscos/archdep.c, arch/beos/archdep.c,
	arch/amigaos/archdep.c, archapi.h (archdep_mkstemp_fd): New
	function.

	* tape/tape-snapshot.c, drive/drive-snapshot.c, event.c,
	network.c, translate.c, zfile.c: Use new function.

	* arch/unix/gui/uidrivec64.c, arch/unix/gui/uidrivec64.h,
	arch/unix/gui/uidrivevic20.c, arch/unix/gui/uidrivevic20.h:
	New files.

	* arch/unix/gui/Makefile.am: Added new files.

	* arch/unix/gui/c64ui.c, arch/unix/gui/vic20ui.c,
	arch/unix/gui/uidrivec64vic20.c: Separated menu entries.

	* drive/drive.h, drive/drive-check.c: Updated type specific
	drive checks.

	* arch/unix/gui/uidriveiec.c, arch/unix/gui/uidriveiec.h,
	arch/unix/gui/uidrivec128.c, arch/unix/gui/uidrivec64.c,
	arch/unix/gui/uidrivevic20.c, arch/unix/gui/uidriveplus4.c,
	arch/unix/gui/uidrivepetcbm2.c, arch/unix/gui/uidrive.c,
	arch/unix/gui/uidrive.h: Added menu entry greying.

	* arch/unix/x11/xaw/uimenu.h, arch/unix/x11/gnome/uimenu.h
	[UI_MENU_DEFINE_TOGGLE_COND]: New macro.

	* arch/win32/uidrivec128.c, arch/win32/uidrivec64vic20.c,
	arch/win32/uidriveplus4.c: Use check function instead if
	macros.

	* arch/os2/kbd/kmap-pet.c, arch/os2/kbd/kmap.c,
	arch/os2/kbd/proc.c, arch/os2/dialogs/dlg-fileio.c,
	arch/os2/dialogs/menubar.c, arch/os2/dialogs/dragndrop.c,
	arch/os2/dialogs/dlg-datasette.c, arch/os2/kbd.c,
	arch/os2/dialogs/dlg-emulator.c, arch/os2/tfearch.c,
	arch/os2/dialogs/dlg-joystick.c, arch/os2/dialogs/dlg-color.c,
	arch/os2/dialogs/dlg-vsid.c, arch/os2/vsidui.c,
	arch/os2/dialogs/dlg-drive.c, arch/os2/os2main.c, 
	arch/os2/archdep.c: Changed to new resource API.

2006-09-30  Andreas Dehmel  <zarquon@t-online.de>

	* arch/riscos/cbm2ui.c, arch/riscos/kbd.c,
	arch/riscos/petui.c, arch/riscos/ui.c, arch/riscos/ui.h,
	arch/riscos/vic20ui.c: Ported to new resources interface

	* network.c: missing stubs function if HAVE_NETWORK undefined

2006-09-30  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.8.

	* c64/c64parallel.c, drive/iec/cia1571d.c: Added support for
	1571 style parallel cable.

	* drive/iec/memiec.c: Added support for 1571 style 8KB memory
	expansion.

2006-09-28  Fabrizio Gennari  <fabrizio.ge@tiscali.it>

	* arch/unix/gui/c128ui.c, arch/unix/gui/c64ui.c,
	arch/unix/gui/cbm2ui.c, arch/unix/gui/petui.c,
	arch/unix/gui/plus4ui.c, arch/unix/gui/uifliplist.c,
	arch/unix/gui/vic20ui.c, arch/unix/gui/vsidui.c,
	arch/unix/ui.h, arch/unix/x11/gnome/gnomekbd.c,
	arch/unix/x11/gnome/uiarch.h, arch/unix/x11/gnome/uimenu.c,
	arch/unix/x11/gnome/uimenu.h, arch/unix/x11/gnome/x11ui.c,
	arch/unix/x11/x11menu.c, arch/unix/x11/x11menu.h,
	arch/unix/x11/xaw/uiarch.h, arch/unix/x11/xaw/uimenu.c,
	arch/unix/x11/xaw/x11ui.c: Added GTK accelerators.

2006-09-26  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* c64/cart/c64cart.c, c64/tfe.c, translate.c: Corrected some
	text elements.

2006-09-25  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.7.

	* drive/iec/via1d1541.c, drive/ieee/via1d2031.c,
	drive/iecieee/via2d.c: Initialize VIA struct.

	* arch/unix/x11/xaw/widgets/FileSel.c (UpdateTextLines): Fixed
	some bug.

	* arch/unix/console.c, arch/msdos/console.c,
	arch/riscos/console.c, arch/beos/console.c (console_open):
	Inititalize `console_cannot_output'.

	* arch/unix/gui/uinetplay.c: Moved down IPV6 settings.

	* network.c (network_hook): Splitted into separate functions,
	made portable, fixed memory leaks and checked return values.
	(network_event_record_sync_test): Made portable.
	(network_send_buffer): Prevent SIGPIPE on writes to
	disconnected sockets.

	* snapshot.c,  snapshot.h
	(snapshot_module_read_dword_into_uint): New function.

	* maincpu.c, drive/drive-snapshot.c, drive/drivecpu.c,
	event.c Use new snapshot function.

	* datasette.c [datasette_zero_gap_delay,
	datasette_speed_tuning]: Changed it `int'.

	* arch/win32/uivicii.c, arch/win32/uivideo.c,
	arch/win32/uipetset.c, arch/win32/uimon.c,
	arch/win32/console.c, arch/win32/tfearch.c: Removed or
	commented out unused functions.

2006-09-25  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/amigaos/intl.c, arch/amigaos/mui/uidrivec128.c,
	arch/amigaos/mui/uidrivec64vic20.c,
	arch/amigaos/mui/uidrivepetcbm2.c,
	arch/amigaos/mui/uidriveplus4.c,
	arch/amigaos/mui/uijoystick.c,
	arch/amigaos/mui/uisound.c: Fixed some ui related issues.

2006-09-25  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/msdos/uinetplay.c: Fixed some ui related issue.

2006-09-25  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/win32/res.rc: Deleted some unused parts.

2006-09-23  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.6.

	* sid/resid.cc, printerdrv/output-graphics.c, c64/c64rom.c,
	c64/cart/c64cartmem.c, c64/psid.c, c64/c64memsnapshot.c,
	c64/cart/expert.c, c64/c64io.c, c128/c128-resources.c,
	c128/c128rom.c, c128/c128memsnapshot.c, c128/c128mmu.c,
	vic20/vic.c, vic20/vic20-snapshot.c, vic20/vic20iec.c,
	vic20/vic20mem.c, vic20/vic20rom.c, vic20/vic20memsnapshot.c,
	vic20/vic20-cmdline-options.c, pet/petmemsnapshot.c,
	pet/petmem.c, pet/petrom.c, plus4/plus4mem.c,
	plus4/plus4rom.c, plus4/ted-timing.c, plus4/plus4cart.c,
	plus4/plus4memhannes256k.c, plus4/plus4-resources.c,
	plus4/plus4memcsory256k.c, cbm2/cbm2memsnapshot.c,
	cbm2/cbm2rom.c, cbm2/cbm2mem.c, vicii/vicii-timing.c,
	drive/iec/iecrom.c, drive/ieee/ieeerom.c,
	drive/tcbm/tcbmrom.c, drive/iec128dcr/iec128dcrrom.c,
	drive/drive.c, drive/drive-snapshot.c, sounddrv/soundacorn.c,
	video/video-resources.c, gfxoutputdrv/ffmpegdrv.c,
	monitor/mon_ui.c, fsdevice/fsdevice.c, sid/sid-snapshot.c,
	sid/sid.c, sid/fastsid.c, arch/riscos/ui.c, arch/riscos/kbd.c,
	arch/riscos/vsidui.c, arch/riscos/c128ui.c,
	arch/riscos/video.c, arch/riscos/cbm2ui.c,
	arch/riscos/petui.c, arch/riscos/vsync.c, arch/beos/ui.cc,
	arch/beos/ui_device.cc, arch/beos/ui_file.cc,
	arch/beos/ui_joystick.cc, arch/beos/ui_drive.cc: Changed to
	new resource API.

	* sid/fastsid.c [sound_s]: Changed `emulatefilter' to integer
	as this variable is passed to resource code!

	* petcat.c (p_tokenize): Fixed a warning.

	* util.c (util_be_buf_to_dword, util_int_to_be_buf4,
	util_int_to_le_buf4, util_le_buf4_to_int,
	util_be_buf4_to_int): New functions.

	* network.c (network_server_connect_trap,
	network_client_connect_trap, network_connect_client): Exchange
	length of the event and snapshot file in a portable way.

	* fsdevice/fsdevice-flush.c: Do not directly use `PATH_MAX'.

	* arch/win32/msvc/config.h: Removed `PATH_MAX' define.

	* monitor/monitor.c (playback_commands): Make it readable.

	* romset.c (romset_file_load): `fp' is a pointer.

	* keyboard.c (keyboard_parse_keymap): It is not necessary to
	free the return path on error.

	* arch/os2/kbd/parse.c (load_keymap_file): Changed likewise.

	* arch/amigaos/uilib.c [MAX_PATH]: Removed obsolete define.

	* vicii/vicii.c (vicii_handle_pending_alarms):
	`vicii_raster_draw_alarm_handler()' takes `CLOCK'.

	* plus4/ted.c (ted_handle_pending_alarms): Changed likewise.

	* alarm.h (alarm_context_dispatch): Use `CLOCK' instead of
	`long'.

	* c64/georam.c (georam_read_snapshot_module): Use `int'
	instead of `long'.

	* c64/reu.c (reu_read_snapshot_module): Changed likewise.

	* maincpu.c (maincpu_generic_dma): Only define this function
	if `DMA_FUNC' is not defined.

2006-09-23  pottendo  <pottendo@utanet.at>

	* arch/unix/x11/gnome/*: get rid of deprecated libgnome et
	al. dependencies. Credits to Fabrizio Gennari.

2006-09-17  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.5.

	* Makefile.am: Added forgotten `ChangeLog.5' file.

	* mos6510.h, 6510core.c, c128/z80.c: Changed status bit set
	macros to avoid warnings.

	* arch/beos/types.h, arch/unix/types.h, arch/msdos/types.h,
	arch/riscos/config.h, arch/amigaos/types.h: Removed test for
	`SIZEOF_UNSIGNED_INT = 2' as VICE won't work on those archs
	anyway.

	* tap.h [tap_t]: Variables `cycle_counter' and
	`cycle_counter_total' must be int otherwise snapshot breaks on
	64bit archs.

	* vicii/vicii-sprites.c (draw_sprite_partial): Do not inline
	this big function.

	* cartconv.c (load_input_file): Fixed a warning.

	* c64/reu.c, c64/georam.c, c64/ramcart.c, pet/petreu.c: Do not
	use `DWORD' for expansion size.

	* network.c [network_control]: Changed to `int'.

	* c64/plus60k.c, c64/plus60k.h [plus60k_base]: Changed to
	`int'.

	* c64/c64_256k.c, c64/c64_256k.h [c64_256k_start]: Changed to
	`int'.

	* arch/msdos/c128ui.c, arch/msdos/c64ui.c, arch/msdos/kbd.c,
	arch/msdos/cbm2ui.c, arch/msdos/menudefs.c,
	arch/msdos/petui.c, arch/msdos/plus4ui.c,
	arch/msdos/statusbar.c, arch/msdos/tuimenu.c,
	arch/msdos/uic64_256k.c, arch/msdos/uidrive.c,
	arch/msdos/uigeoram.c, arch/msdos/uijoystick.c,
	arch/msdos/uinetplay.c, arch/msdos/uiperipherial.c,
	arch/msdos/uipetreu.c, arch/msdos/uiplus256k.c,
	arch/msdos/uiplus60k.c, arch/msdos/uiprinter.c,
	arch/msdos/uiramcart.c, arch/msdos/uireu.c,
	arch/msdos/uisid.c, arch/msdos/uisound.c, arch/msdos/uitfe.c,
	arch/msdos/vic20ui.c, arch/msdos/video.c,
	arch/beos/ui_netplay.cc, arch/beos/ui_device.cc,
	arch/beos/vicewindow.cc, arch/beos/ui_cbm2.cc,
	arch/beos/ui.cc, arch/beos/ui_datasette.cc,
	arch/beos/ui_file.cc, arch/beos/ui_joystick.cc,
	arch/beos/ui_pet.cc, arch/beos/ui_sid.cc,
	arch/beos/ui_sound.cc, arch/beos/ui_vic20.cc,
	arch/beos/ui_vicii.cc, arch/beos/ui_video.cc: Changed to new
	resource API.

2006-09-16  Andreas Dehmel  <zarquon@t-online.de>

	* arch/riscos/kbd.c, arch/riscos/vsync.c: fixed minor
	oversights of resource-restructuring.

2006-09-16  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.4.

	* autostart.c, datasette.c, debug.c, keyboard.c, main.c,
	romset.c, arch/unix/gp2x/c128ui.c, arch/unix/gp2x/c64ui.c,
	arch/unix/gp2x/cbm2ui.c, arch/unix/gp2x/input_gp2x.c,
	arch/unix/gp2x/petui.c, arch/unix/gp2x/plus4ui.c,
	arch/unix/gp2x/prefs_gp2x.c, arch/unix/gp2x/vic20ui.c,
	arch/unix/gui/c128ui.c, arch/unix/gui/cbm2ui.c,
	arch/unix/gui/petui.c, arch/unix/gui/uicommands.c,
	arch/unix/gui/uidatasette.c, arch/unix/gui/uidrive.c,
	arch/unix/gui/uifliplist.c, arch/unix/gui/uiide64.c,
	arch/unix/gui/uijoystick2.c, arch/unix/gui/uikeyboard.c,
	arch/unix/gui/uilib.c, arch/unix/gui/uinetplay.c:,
	arch/unix/gui/uipalemu.c, arch/unix/gui/uiprinter.c,
	arch/unix/gui/uiromset.c, arch/unix/gui/uirs232.c,
	arch/unix/gui/uisettings.c, arch/unix/gui/uited.c,
	arch/unix/gui/uivic.c, arch/unix/gui/uivicii.c,
	arch/unix/gui/vic20ui.c, arch/unix/x11/gnome/uimenu.c,
	arch/unix/x11/gnome/uinetplay.c,
	arch/unix/x11/gnome/uipalcontrol.c,
	arch/unix/x11/gnome/uiscreenshot.c,
	arch/unix/x11/gnome/x11ui.c, arch/unix/x11/xaw/uimenu.c,
	arch/unix/x11/xaw/x11ui.c, arch/win32/fullscrn.c,
	arch/win32/uiacia.c, arch/win32/uic128.c,
	arch/win32/uic64_256k.c, arch/win32/uicbm2set.c,
	arch/win32/ui.c, arch/win32/uidatasette.c,
	arch/win32/uidrivec128.c, arch/win32/uidrivec64vic20.c,
	arch/win32/uidriveplus4.c, arch/win32/uigeoram.c,
	arch/win32/uiide64.c, arch/win32/uijoystick.c,
	arch/win32/uikeyboard.c, arch/win32/uilib.c,
	arch/win32/uimediafile.c, arch/win32/uimon.c,
	arch/win32/uiram.c, arch/win32/uireu.c, arch/win32/uirom.c,
	arch/win32/uisid.c, arch/win32/uitfe.c, arch/win32/uirs232.c,
	arch/win32/uirs232user.c, arch/win32/uiperipheral.c,
	arch/win32/uivicset.c, arch/win32/uispeed.c,
	arch/win32/uisound.c, arch/win32/uinetwork.c,
	arch/win32/uipetreu.c, arch/win32/uipetset.c,
	arch/win32/uiplus256k.c, arch/win32/uiplus4cart.c,
	arch/win32/uiplus4mem.c, arch/win32/uiplus60k.c,
	arch/win32/uiramcart.c, arch/win32/uivicii.c,
	arch/win32/uivideo.c, resources.h, resources.c
	(resources_get_int, resources_get_string, resources_set_int,
	resources_set_string): New functions, changed API.

	* resources.c, resources.h, arch/os2/dialogs/dlg-drive.c,
	arch/win32/ui.c, arch/win32/uidriveplus4.c, romset.c,
	arch/win32/uidrivec128.c, arch/win32/uirom.c,
	arch/win32/uidrivepetcbm2.c, arch/win32/uiperipheral.c,
	arch/win32/uidrivec64vic20.c, printerdrv/output-graphics.c
	(resources_get_int_sprintf, resources_get_string_sprintf):
	New functions, changed API.

	* resources.c, resources.h, arch/os2/dialogs/dlg-drive.c,
	arch/unix/gui/uiattach.c, arch/win32/ui.c, event.c,
	arch/win32/uidriveplus4.c, arch/win32/uidrivec128.c,
	arch/win32/uirom.c, arch/win32/uidrivepetcbm2.c,
	arch/win32/uiperipheral.c, arch/win32/uidrivec64vic20.c
	(resources_set_int_sprintf, resources_set_string_sprintf):
	New functions, changed API.

	* resources.h, resources.c, arch/os2/dialogs/dialogs.c,
	arch/os2/dialogs/dlg-drive.c, arch/msdos/tuimenu.c,
	arch/win32/uisid.c, arch/riscos/ui.c (resources_toggle):
	Changed return parameter to `int *'.

	* debug.c (debug_create_new_file, debug_open_new_file): Use
	`lib_msprintf()'.

	* machine.h, c64/c64.c, c128/c128.c, vic20/vic20.c, pet/pet.c,
	plus4/plus4.c, cbm2/cbm2.c (machine_num_keyboard_mappings):
	Changed return value to `int'.

	* translate.c: Fixed typo.

	* arch/win32/uimon.c (decode, getString3): Made parameter
	const.

	* arch/win32/uirom.c (browse_archive_romset_dialog): Commented
	out unused dialog.

2006-09-10  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.3.

	* resources.c, resources.h (resources_register): Removed.

	* aciacore.c, attach.c, datasette.c, debug.c, event.c,
	fliplist.c, log.c, mouse.c, network.c, ram.c, romset.c,
	sound.c, sysfile.c, translate.c, traps.c, vsync.c,
	c64/cart/c64cart.c, c64/cart/ide64.c, c64/plus60k.c,
	c64/reu.c, c64/tfe.c, c64/ramcart.c, c64/plus256k.c,
	c64/georam.c, c64/psid.c, c64/c64-resources.c, c64/c64_256k.c,
	c128/functionrom.c, c128/c128-resources.c, c128/z80mem.c,
	c128/c128mmu.c, vic20/vic20cartridge.c,
	vic20/vic20-resources.c, pet/pet.c, pet/pet-resources.c,
	pet/petpia1.c, pet/petreu.c, plus4/plus4memhannes256k.c,
	plus4/plus4-resources.c, plus4/plus4memcsory256k.c,
	cbm2/cbm2-resources.c, arch/os2/kbd/kmap-pet.c,
	arch/os2/kbd/kmap.c, arch/os2/ui.c, arch/os2/mousedrv.c,
	arch/os2/kbd.c, arch/os2/joy.c, arch/os2/rs232.c,
	arch/os2/unused/video_gpi.c, arch/os2/unused/vsync.c,
	arch/os2/video.c, arch/beos/kbd.c, arch/beos/ui.cc,
	arch/beos/joy.cc, arch/beos/video.cc,
	arch/unix/x11/ui-resources.c, arch/unix/x11/video.c,
	arch/unix/joy.c, arch/unix/rs232.c, arch/unix/macosx/joy.c,
	arch/msdos/joy.c, arch/msdos/video.c, arch/msdos/vsync.c,
	arch/win32/joy.c, arch/win32/ui-resources.c,
	arch/win32/video.c, arch/riscos/ui.c, arch/riscos/kbd.c,
	arch/riscos/joy.c, arch/riscos/rs232.c, arch/riscos/video.c,
	arch/riscos/vsync.c, arch/amigaos/joyai.c,
	arch/amigaos/joyll.c, arch/amigaos/joy.c,
	arch/amigaos/uiapi.c, drive/iec/iec-resources.c,
	drive/ieee/ieee-resources.c, drive/tcbm/tcbm-resources.c,
	drive/iec128dcr/iec128dcr-resources.c,
	drive/drive-resources.c, sid/sid-resources.c,
	vdc/vdc-resources.c, diskimage/rawimage.c,
	vicii/vicii-resources.c, video/video-resources.c,
	video/video-resources-pal.c, rs232drv/rsuser.c,
	rs232drv/rs232drv.c, raster/raster-resources.c,
	serial/serial-iec-device.c, fsdevice/fsdevice-resources.c,
	printerdrv/interface-serial.c,
	printerdrv/interface-userport.c, printerdrv/driver-select.c,
	printerdrv/output-text.c, printerdrv/output-select.c,
	printerdrv/output-graphics.c, gfxoutputdrv/ffmpegdrv.c,
	arch/unix/x11/dga2.c, sid/sid-resources.h, keyboard.c,
	keyboard.h: Changed resource set functions to new register
	API.

	* machine.c, machine.h, keyboard.c, c64/c64-resources.c,
	c128/c128-resources.c, vic20/vic20-resources.c,
	pet/pet-resources.c, plus4/plus4-resources.c,
	cbm2/cbm2-resources.c: `machine_keymap_index' is int.

2006-09-09  pottendo  <pottendo@utanet.at>

	* fsdevice/fsdevice-resources.c: (resource_string) added
	`NULL'. 

2006-09-09  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.2.

	* resources.c, resources.h: New resource structs for integer
	and string resources. (resources_register_int,
	resources_register_string): New functions.

	* aciacore.c, attach.c, datasette.c, debug.c, event.c,
	fliplist.c, log.c, mouse.c, network.c, ram.c, romset.c,
	sound.c, sysfile.c, translate.c, traps.c, vsync.c,
	c64/cart/c64cart.c, c64/cart/ide64.c, c64/plus60k.c,
	c64/reu.c, c64/tfe.c, c64/ramcart.c, c64/plus256k.c,
	c64/georam.c, c64/psid.c, c64/c64-resources.c, c64/c64_256k.c,
	c128/functionrom.c, c128/c128-resources.c, c128/z80mem.c,
	c128/c128mmu.c, vic20/vic20cartridge.c,
	vic20/vic20-resources.c, pet/pet.c, pet/pet-resources.c,
	pet/petpia1.c, pet/petreu.c, plus4/plus4memhannes256k.c,
	plus4/plus4-resources.c, plus4/plus4memcsory256k.c,
	cbm2/cbm2-resources.c, arch/os2/kbd/kmap-pet.c,
	arch/os2/kbd/kmap.c, arch/os2/ui.c, arch/os2/mousedrv.c,
	arch/os2/kbd.c, arch/os2/joy.c, arch/os2/rs232.c,
	arch/os2/unused/video_gpi.c, arch/os2/unused/vsync.c,
	arch/os2/video.c, arch/beos/kbd.c, arch/beos/ui.cc,
	arch/beos/joy.cc, arch/beos/video.cc,
	arch/unix/x11/ui-resources.c, arch/unix/x11/video.c,
	arch/unix/joy.c, arch/unix/rs232.c, arch/unix/macosx/joy.c,
	arch/msdos/joy.c, arch/msdos/video.c, arch/msdos/vsync.c,
	arch/win32/joy.c, arch/win32/ui-resources.c,
	arch/win32/video.c, arch/riscos/ui.c, arch/riscos/kbd.c,
	arch/riscos/joy.c, arch/riscos/rs232.c, arch/riscos/video.c,
	arch/riscos/vsync.c, arch/amigaos/joyai.c,
	arch/amigaos/joyll.c, arch/amigaos/joy.c,
	arch/amigaos/uiapi.c, drive/iec/iec-resources.c,
	drive/ieee/ieee-resources.c, drive/tcbm/tcbm-resources.c,
	drive/iec128dcr/iec128dcr-resources.c,
	drive/drive-resources.c, sid/sid-resources.c,
	vdc/vdc-resources.c, diskimage/rawimage.c,
	vicii/vicii-resources.c, video/video-resources.c,
	video/video-resources-pal.c, rs232drv/rsuser.c,
	rs232drv/rs232drv.c, raster/raster-resources.c,
	serial/serial-iec-device.c, fsdevice/fsdevice-resources.c,
	printerdrv/interface-serial.c,
	printerdrv/interface-userport.c, printerdrv/driver-select.c,
	printerdrv/output-text.c, printerdrv/output-select.c,
	printerdrv/output-graphics.c, gfxoutputdrv/ffmpegdrv.c:
	Changed resource definitons to new register API.

2006-09-09  pottendo  <pottendo@utanet.at>

	* arch/unix/x11/gnome/x11ui.c (archdep_ui_init): replaced
	deprecated gnome_program_init(...).
	Credits to Fabrizio Gennari.

2006-09-09  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/os2/video.c: Fixed a resource bug.

2006-09-04  Spiro Trikaliotis  <Spiro.Trikaliotis@gmx.de>

	* petcat.c: Applied fixes by Groepaz: * Use separate buffers
	for input and output in the tokenizer; before, the output
	could overwrite the input, which was bad (TODO: overflow
	checks should be integrated) * output an error and abort if an
	unknown control code has been found. Before, it was inserted
	as plain-text. * added more control codes.

2006-09-03  Andreas Boose  <viceteam@t-online.de>

	* Version 1.20.1

2006-09-03  Marco van den Heuvel  <blackystardust68@yahoo.com>

	* arch/beos/ui.cc: Updated the ui_display_drive_led function.

	* network.c: Updated for BeOS to define HAVE_HTONS and
	HAVE_HTONL.

2006-09-02  pottendo  <pottendo@utanet.at>

	* arch/unix/x11/gnome/about.c (ui_about): Added Csaba.

	* info.c: Added Csaba.

2006-08-27  Christian Vogelgsang  <chris@vogelgsang.org>

	* arch/unix/macosx/make-bindist.sh:
	Added correct PATH environment to launcher script.
	It is required to launch c1541 that is now embedded in each
	bundle. Disk Image is gzipped to shrink it even more.
