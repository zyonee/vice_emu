<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.52
     from ../vice.texi on 17 August 1998 -->

<TITLE>VICE Manual - 7  Machine-specific features</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#00000">
Go to the <A HREF="vice_1.html">first</A>, <A HREF="vice_6.html">previous</A>, <A HREF="vice_8.html">next</A>, <A HREF="vice_12.html">last</A> section, <A HREF="vice_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC38" HREF="vice_toc.html#TOC38">7  Machine-specific features</A></H1>



<H2><A NAME="SEC39" HREF="vice_toc.html#TOC39">7.1  C64/128-specific commands and settings</A></H2>

<P>
This section lists the settings and commands that are C64/128 specific
and thus are not present in the other emulators.

</P>



<H3><A NAME="SEC40" HREF="vice_toc.html#TOC40">7.1.1  Using cartridge images</A></H3>

<P>
<EM>Cartridge images</EM> are like disk images, but mirror the contents of
cartridge ROM images instead of disk images.  They are currently
unsupported on the C128 emulator.

</P>
<P>
X64 allows you to attach the following kinds of cartridges:

</P>

<P> <UL>
<P> <LI>

<TT>`.crt'</TT> images, as used by the CCS64 emulator by Per Hâkan Sundell;
<P> <LI>

generic raw dumps of 8K and 16K images;
<P> <LI>

Action Replay images.
</UL> </P>

<P>
Each of these kinds has a specific command in the "Attach a cartridge
image" submenu.  When you have successfully attached a cartridge image,
you should then reset the machine to make sure the cartridge initializes
itself.  Of course, it is also possible to detach a currently attached
cartridge image ("Detach cartridge image").

</P>
<P>
If you are using an Action Replay cartridge, you can emulate the
cartridge's freeze button with the "Freeze" command.

</P>



<H3><A NAME="SEC41" HREF="vice_toc.html#TOC41">7.1.2  VIC-II settings</A></H3>

<P>
These resources control the emulation of the VIC-II (MOS6569) video chip
used in both the C64 and the C128.

</P>

<P> <UL>

<P> <LI>

<CODE>CheckSsColl</CODE> ("Sprite-sprite collisions") and <CODE>CheckSbColl</CODE>
("Sprite-background collisions") are boolean resources; if set to a
nonzero value, they cause the hardware detection of sprite-to-sprite and
sprite-to-background collision to be emulated.  This feature is used by
many games, and disabling either of the two detection systems can
sometimes make you invincible (although there is also a chance that also
enemies become invincible then).

<P> <LI>

<CODE>PaletteFile</CODE> ("Color set") is a string resource whose value
identifies the name of the palette file being used (see section <A HREF="vice_4.html#SEC19">4.3  Palette files</A> for a description of palette files).  You can dynamically change
its value at runtime by choosing one of the available predefined color
sets:


<P> <UL>
<P> <LI>

<TT>`default.vpl'</TT> ("default"), the default VICE palette;
<P> <LI>

<TT>`ccs64.vpl'</TT> ("CCS64"), palette taken from the CCS64 emulator by
Per H&acirc;kan Sundell (<A HREF="http://www.fatal-design.com/ccs64/">http://www.fatal-design.com/ccs64/</A>).
<P> <LI>

<TT>`frodo.vpl'</TT> ("Frodo"), palette taken from the Frodo emulator by
Christian Bauer (<A HREF="http://www.uni-mainz.de/~bauec002/FRMain.html">http://www.uni-mainz.de/~bauec002/FRMain.html</A>).
<P> <LI>

<TT>`godot.vpl'</TT> ("GoDot"), palette as suggested by the authors of the
C64 graphics package GoDot
(<A HREF="http://users.aol.com/howtogodot/welcome.htm">http://users.aol.com/howtogodot/welcome.htm</A>).
</UL> </P>

</UL> </P>



<H3><A NAME="SEC42" HREF="vice_toc.html#TOC42">7.1.3  SID settings</A></H3>

<P>
These resources control the emulation of the SID (MOS6581 or MOS8580)
audio chip.

</P>

<P> <UL>

<P> <LI>

<CODE>SidFilters</CODE> is a boolean resource; if enabled, it causes the
built-in programmable filters of the SID chip to be emulated.  A lot of
C64 music requires them to be emulated properly, but their emulation
requires some additional processor power.

<P> <LI>

<CODE>SidModel</CODE> specifies the model of the SID chip being emulated:
there are two slightly different generations of SID chips: MOS6581 ones
(<CODE>0</CODE>) and MOS8580 ones (<CODE>1</CODE>).

</UL> </P>



<H3><A NAME="SEC43" HREF="vice_toc.html#TOC43">7.1.4  I/O extension settings</A></H3>

<P>
There are three I/O extensions available: they are located at the
address range $DF00 ... $DFFF and each of them is controlled by a
boolean resource.  Please use these extensions only when needed, as they
might cause compatibility problems.

</P>

<P> <UL>

<P> <LI>

The "emulator identification" extension (related to the <CODE>EmuID</CODE>
resource) allows programs to identify the kind of emulator they are
running on, according to the emulation detection proposal by Wolfgang
Lorenz.  This basically means that, when some locations in the $DFxx I/O
space are read, the emulator returns some values which identify the
emulator itself, its version and a copyright message.  If this extension
is disabled, programs will have virtually no way to realize they are
running on an emulator.

<P> <LI>

The "IEEE488 interface emulation" extension (enabled by the
<CODE>IEEE488</CODE> resource) emulates a standard Commodore IEEE488 interface
connected to the IEC bus; one possible use for this is André Fachat's
OS/A65 multitasking operating system.

<P> <LI>

The "512K RAM Expansion Unit" extension (enabled by the <CODE>REU</CODE>
resource) emulates a standard 512K Commodore RAM Expansion Unit; this
can be used with GEOS and other programs that are designed to take
advantage of it.  This currently works only in the C64 emulator.

</UL> </P>



<H3><A NAME="SEC44" HREF="vice_toc.html#TOC44">7.1.5  RS232 settings</A></H3>

<P>
X64 and X128 can support RS232 in the following ways:

</P>

<P> <UL>
<P> <LI>

By emulating Daniel Dallmann's 9600 baud userport-based RS232 interface
(enabled by the <CODE>RsUser</CODE> boolean resource).
<P> <LI>

By emulating a 6551-based RS232 interface located at $DE00 (enabled by
the <CODE>AciaDE</CODE> boolean resource).
</UL> </P>

<P>
Each of these emulated devices can be either:

</P>

<P> <UL>
<P> <LI>

connected a real UNIX serial device;
<P> <LI>

dumped to a file;
<P> <LI>

piped through a process.
</UL> </P>

<P>
It is possible to define up to two UNIX serial devices, and then decide
which interface should be connected to which device.  Devices are
defined through the following resources:

</P>

<P> <UL>
<P> <LI>

<CODE>RsDevice1</CODE> and <CODE>RsDevice2</CODE> ("Serial 1
device..." and "Serial 2 device..." in the submenu) are
strings specifying the pathnames of the serial devices, and can be
specified at runtime via the file selector;
<P> <LI>

<CODE>RsDevice1Baud</CODE> and <CODE>RsDevice2Baud</CODE> ("Serial 1 baudrate" and
"Serial 2 baudrate" in the submenu) specify the baudrate.
</UL> </P>

<P>
The dump file name is specified through the <CODE>RsDevice3</CODE> resource,
while the name of the program to pipe the RS232 data through is defined
by the <CODE>RsDevice4</CODE> resource.

</P>
<P>
Finally, <CODE>RsUserDev</CODE> and <CODE>Acia1Dev</CODE> are numeric resources used
to specify how the userport-based interface and the ACIA-based one are
emulated.  The possible values are:

</P>

<P> <UL>
<P> <LI>

<CODE>0</CODE>: connect to serial device number 1;
<P> <LI>

<CODE>1</CODE>: connect to serial device number 2;
<P> <LI>

<CODE>2</CODE>: dump to file;
<P> <LI>

<CODE>3</CODE>: exec an external process;
</UL> </P>



<H2><A NAME="SEC45" HREF="vice_toc.html#TOC45">7.2  VIC20-specific commands and settings</A></H2>

<P>
This section lists the settings and commands that are VIC20-specific and
thus are not present in the other emulators.

</P>



<H3><A NAME="SEC46" HREF="vice_toc.html#TOC46">7.2.1  Using cartridge images</A></H3>

<P>
As with the C64 (see section <A HREF="vice_7.html#SEC40">7.1.1  Using cartridge images</A>), it is possible to attach
several types of cartridge images:

</P>

<P> <UL>
<P> <LI>

4 or 8 Kbyte cartridges located at $2000;
<P> <LI>

4 or 8 Kbyte cartridges located at $6000;
<P> <LI>

4 or 8 Kbyte cartridges located at $A000;
<P> <LI>

4 Kbyte cartridges located at $B000.
</UL> </P>

<P>
This can all be done via the "Attach cartridge image..." command in
the left-button menu.  It is also possible to let XVIC "guess" the
type of cartridge using "Smart-attach cartridge image...".

</P>
<P>
Notice that several cartridges are actually made up of two pieces (and
two files), that need to be loaded separately at different addresses.
In that case, you have to know the addresses (which are usually
specified in the file name) and use the "attach" command twice.

</P>



<H3><A NAME="SEC47" HREF="vice_toc.html#TOC47">7.2.2  Changing memory configuration</A></H3>

<P>
It is possible to change the VIC20 memory configuration in two ways: by
enabling and/or disabling certain individual memory blocks, or by
choosing one among a few typical memory configurations.  The former can
be done by modifying resource values directly or from the right-button
menu; the latter can only be done from the menu.

</P>
<P>
There are 5 RAM expansion blocks in the VIC20, numbered 0, 1, 2, 3 and
5:

</P>

<P> <UL>
<P> <LI>

block 0 (3 Kbytes at $0400-$0FFF);
<P> <LI>

block 1 (8 Kbytes at $2000-$3FFF);
<P> <LI>

block 2 (8 Kbytes at $4000-$5FFF);
<P> <LI>

block 3 (8 Kbytes at $6000-$7FFF);
<P> <LI>

block 5 (8 Kbytes at $A000-$BFFF).
</UL> </P>

<P>
These blocks are called <EM>expansion blocks</EM> because they are not
present in the stock machine.  Each of them is associated to a boolean
<CODE>RamBlockX</CODE> resource (where <CODE>X</CODE> is the block number) that
specifies whether the block is enabled or not.

</P>
<P>
There are also some common memory configurations you can pick from the
right-button menu:

</P>

<P> <UL>
<P> <LI>

no RAM expansion blocks at all;
<P> <LI>

all RAM expansion blocks enabled;
<P> <LI>

3K expansion (only block 0 is enabled);
<P> <LI>

8K expansion (only block 1 is enabled);
<P> <LI>

16K expansion (only blocks 1 and 2 are enabled);
<P> <LI>

24K expansion (only blocks 1, 2 and 3 are enabled).
</UL> </P>

<P>
As with the X64 (see section <A HREF="vice_7.html#SEC43">7.1.4  I/O extension settings</A>), it is also possible to
enable a special emulator identification mechanism that uses certain
memory locations to let a running program query information about the
emulator itself.

</P>



<H2><A NAME="SEC48" HREF="vice_toc.html#TOC48">7.3  PET-specific commands and settings</A></H2>

<P>
This section lists the settings and commands that are PET-specific and
thus are not present in the other emulators.

</P>



<H3><A NAME="SEC49" HREF="vice_toc.html#TOC49">7.3.1  Changing PET model settings</A></H3>

<P>
With XPET, it is possible to change at runtime the characteristics of
the emulated PET so that it matches (or not) the ones of a certain PET
model, and it is also possible to select from a common set of PET models
so that all the features are selected accordingly.

</P>
<P>
The former is done by changing the following resources (via resource
file, command line options or right-menu items):

</P>

<P> <UL>
<P> <LI>

</UL> </P>

<P>
Choosing a common PET model is done from the right-button menu instead,
by choosing an item from the "Model defaults" submenu.  Available
models are:

</P>

<P> <UL>
<P> <LI>

PET 2001-8N
<P> <LI>

PET 3008
<P> <LI>

PET 3016
<P> <LI>

PET 3032
<P> <LI>

PET 3032B
<P> <LI>

PET 4016
<P> <LI>

PET 4032
<P> <LI>

PET 4032B
<P> <LI>

PET 8032
<P> <LI>

PET 8096
<P> <LI>

PET 8296
</UL> </P>

<P>
Notice that this will <STRONG>reset the emulated machine</STRONG>.

</P>
<P>
It is also possible to select the PET model at startup, with the
<CODE>-model</CODE> command-line option: for example, <SAMP>`xpet -model 3032'</SAMP>
will emulate a PET 3032 while <SAMP>`xpet -model 8296'</SAMP> will emulate a PET
8296.

</P>



<H3><A NAME="SEC50" HREF="vice_toc.html#TOC50">7.3.2  The PET diagnostic pin</A></H3>

<P>
It is possible to enable or disable emulation of the PET diagnostic pin
via the <CODE>DiagPin</CODE> resource, or the "PET userport diagnostic pin"
item in the right-button menu.

</P>



<H3><A NAME="SEC51" HREF="vice_toc.html#TOC51">7.3.3  Changing screen colors</A></H3>

<P>
It is also possible to choose what color set is used for the emulation
window.  This is done by specifying a palette file name (see section <A HREF="vice_4.html#SEC19">4.3  Palette files</A>) in the <CODE>PaletteName</CODE> resource.  The menu provides the
following values:

</P>

<P> <UL>
<P> <LI>

<CODE>default.vpl</CODE> ("default (green)"), the good old green-on-black
feeling;
<P> <LI>

<CODE>amber.vpl</CODE> ("amber"), an amber phosphor lookalike;
<P> <LI>

<CODE>white.vpl</CODE> ("white"), simple white-on-black palette.
</UL> </P>

<P><HR><P>
Go to the <A HREF="vice_1.html">first</A>, <A HREF="vice_6.html">previous</A>, <A HREF="vice_8.html">next</A>, <A HREF="vice_12.html">last</A> section, <A HREF="vice_toc.html">table of contents</A>.
</BODY>
</HTML>
